import{y as d}from"./index-D_am6-Ay.js";const u="https://api.zxkws.nyc.mn/api";let o="";const n=(e,i,a={})=>{let r;return a.file?r=i:r=JSON.stringify(i),fetch(u+e,{method:"POST",credentials:"include",body:r,headers:{"Content-Type":"application/json",Authorization:o?"Bearer "+o:""}}).then(t=>{o=t.headers.get("Token")||o,localStorage.setItem("auth_token",o);const s=t.headers.get("Content-Type");return s!=null&&s.includes("application/json")?t.json():t.text()}).then(t=>(t.statusCode===401&&d.push({name:"login"}),t)).catch(t=>{alert(t)})},l=e=>n("/v1/user/login",e),h=e=>n("/v1/user/register",e),f=e=>n("/v1/todos",e),p=e=>n("/v1/modifyTodo",e),g=e=>n("/v1/deleteTodo",e);export{g as d,l,p as m,f as q,h as r};
